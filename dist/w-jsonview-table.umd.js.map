{"version":3,"file":"w-jsonview-table.umd.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/viewJsonTable.mjs"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import './viewJsonTable.css'\r\n\r\n\r\n/**\r\n * 前端通過元素展示Json資料為表格，因 [Fork: {@link https://github.com/marianoguerra/json.human.js json.human.js}] 的js與css設定無法進行模組化，自己下載來修改\r\n *\r\n * @export\r\n * @param {Object} jsonObj 輸入Json物件\r\n * @param {Element} rootElem 輸入初始化元素\r\n * @param {Object} [option={}] 輸入設定物件，預設為空物件\r\n * @param {Boolean} [option.expanded=false] 輸入是否預先展開，預設為false\r\n */\r\nfunction viewJsonTable(jsonObj, rootElem, option) {\r\n    let prefixer = makePrefixer('jh')\r\n    let p = prefixer\r\n    let ARRAY = 1\r\n    let BOOL = 2\r\n    let INT = 3\r\n    let FLOAT = 4\r\n    let STRING = 5\r\n    let OBJECT = 6\r\n    let FUNCTION = 7\r\n    let UNK = 99\r\n    \r\n    let STRING_CLASS_NAME = p('type-string')\r\n    let STRING_EMPTY_CLASS_NAME = p('type-string') + ' ' + p('empty')\r\n    \r\n    let BOOL_TRUE_CLASS_NAME = p('type-bool-true')\r\n    let BOOL_FALSE_CLASS_NAME = p('type-bool-false')\r\n    let BOOL_IMAGE = p('type-bool-image')\r\n    let INT_CLASS_NAME = p('type-int') + ' ' + p('type-number')\r\n    let FLOAT_CLASS_NAME = p('type-float') + ' ' + p('type-number')\r\n    \r\n    let OBJECT_CLASS_NAME = p('type-object')\r\n    let OBJ_KEY_CLASS_NAME = p('key') + ' ' + p('object-key')\r\n    let OBJ_VAL_CLASS_NAME = p('value') + ' ' + p('object-value')\r\n    let OBJ_EMPTY_CLASS_NAME = p('type-object') + ' ' + p('empty')\r\n    \r\n    let FUNCTION_CLASS_NAME = p('type-function')\r\n    \r\n    let ARRAY_KEY_CLASS_NAME = p('key') + ' ' + p('array-key')\r\n    let ARRAY_VAL_CLASS_NAME = p('value') + ' ' + p('array-value')\r\n    let ARRAY_CLASS_NAME = p('type-array')\r\n    let ARRAY_EMPTY_CLASS_NAME = p('type-array') + ' ' + p('empty')\r\n    \r\n    let HYPERLINK_CLASS_NAME = p('a')\r\n    \r\n    let UNKNOWN_CLASS_NAME = p('type-unk')\r\n    \r\n\r\n    let indexOf = [].indexOf || function(item) {\r\n        for (let i = 0, l = this.length; i < l; i++) {\r\n            if (i in this && this[i] === item) return i\r\n        } return -1\r\n    }\r\n    \r\n\r\n    //Init\r\n    Init(jsonObj, rootElem, option)\r\n\r\n\r\n    /**\r\n     * Initialize\r\n     * @param {Object} jsonObj 輸入Json物件\r\n     * @param {Element} rootElem 輸入初始化元素\r\n     * @param {Object} [option={}] 輸入設定物件，預設為空物件\r\n     * @param {Boolean} [option.expanded=false] 輸入是否預先展開，預設為false\r\n     */\r\n    function Init(jsonObj, rootElem, option = {}) {\r\n\r\n        //get expanded\r\n        if (option) {\r\n            // options = {\r\n            //     // Show or hide Array-Indices in the output\r\n            //     showArrayIndex: true,\r\n\r\n            //     // Hyperlinks Option\r\n            //     // Enable <a> tag in the output html based on object keys\r\n            //     // Supports only strings and arrays\r\n            //     hyperlinks: {\r\n            //         enable: true,\r\n            //         keys: ['url'], // Keys which will be output as links\r\n            //         target: '_blank' // 'target' attribute of a\r\n            //     },\r\n\r\n            //     // Options for displaying bool\r\n            //     bool: {\r\n            //         // Show text? And what text for true & false?\r\n            //         showText: true,\r\n            //         text: {\r\n            //             true: 'Yes',\r\n            //             false: 'No'\r\n            //         },\r\n\r\n            //         // Show image? And which images (urls)?\r\n            //         showImage: true,\r\n            //         img: {\r\n            //             true: 'css/true.png',\r\n            //             false: 'css/false.png'\r\n            //         }\r\n            //     }\r\n            // }\r\n        }\r\n\r\n        //clear\r\n        rootElem.innerHTML = ''\r\n\r\n        //add class\r\n        rootElem.classList.add('CompCssDJsonViewTable')\r\n\r\n        //render\r\n        let node = format(jsonObj, option)\r\n        rootElem.appendChild(node)\r\n\r\n    }\r\n\r\n\r\n    function makePrefixer(prefix) {\r\n        return function(name) {\r\n            return prefix + '-' + name\r\n        }\r\n    }\r\n    \r\n\r\n    function isArray(obj) {\r\n        return Object.prototype.toString.call(obj) === '[object Array]'\r\n    }\r\n\r\n    \r\n    function sn(tagName, className, data) {\r\n        let result = document.createElement(tagName)\r\n    \r\n        result.className = className\r\n        result.appendChild(document.createTextNode('' + data))\r\n    \r\n        return result\r\n    }\r\n    \r\n\r\n    function scn(tagName, className, child) {\r\n        let result = document.createElement(tagName)\r\n        let i\r\n        let len\r\n    \r\n        result.className = className\r\n    \r\n        if (isArray(child)) {\r\n            for (i = 0, len = child.length; i < len; i += 1) {\r\n                result.appendChild(child[i])\r\n            }\r\n        }\r\n        else {\r\n            result.appendChild(child)\r\n        }\r\n    \r\n        return result\r\n    }\r\n    \r\n\r\n    function linkNode(child, href, target) {\r\n        let a = scn('a', HYPERLINK_CLASS_NAME, child)\r\n        a.setAttribute('href', href)\r\n        a.setAttribute('target', target)\r\n        return a\r\n    }\r\n    \r\n\r\n    function getType(obj) {\r\n        let type = typeof obj\r\n    \r\n        switch (type) {\r\n        case 'boolean':\r\n            return BOOL\r\n        case 'string':\r\n            return STRING\r\n        case 'number':\r\n            return (obj % 1 === 0) ? INT : FLOAT\r\n        case 'function':\r\n            return FUNCTION\r\n        default:\r\n            if (isArray(obj)) {\r\n                return ARRAY\r\n            }\r\n            else if (obj === Object(obj)) {\r\n                return OBJECT\r\n            }\r\n            else {\r\n                return UNK\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    function _format(data, options, parentKey) {\r\n    \r\n        let result\r\n        let container\r\n        let key\r\n        let keyNode\r\n        let valNode\r\n        let len\r\n        let childs\r\n        let tr\r\n        let value\r\n        let isEmpty = true\r\n        let type = getType(data)\r\n    \r\n        // Initialized & used only in case of objects & arrays\r\n        let hyperlinksEnabled, aTarget, hyperlinkKeys\r\n    \r\n        switch (type) {\r\n        case BOOL:\r\n            let boolOpt = options.bool\r\n            container = document.createElement('div')\r\n    \r\n            if (boolOpt.showImage) {\r\n                let img = document.createElement('img')\r\n                img.setAttribute('class', BOOL_IMAGE)\r\n    \r\n                img.setAttribute('src',\r\n                    '' + (data ? boolOpt.img.true : boolOpt.img.false))\r\n    \r\n                container.appendChild(img)\r\n            }\r\n    \r\n            if (boolOpt.showText) {\r\n                container.appendChild(data\r\n                    ? sn('span', BOOL_TRUE_CLASS_NAME, boolOpt.text.true)\r\n                    : sn('span', BOOL_FALSE_CLASS_NAME, boolOpt.text.false))\r\n            }\r\n    \r\n            result = container\r\n            break\r\n    \r\n        case STRING:\r\n            if (data === '') {\r\n                result = sn('span', STRING_EMPTY_CLASS_NAME, '(Empty Text)')\r\n            }\r\n            else {\r\n                result = sn('span', STRING_CLASS_NAME, data)\r\n            }\r\n            break\r\n        case INT:\r\n            result = sn('span', INT_CLASS_NAME, data)\r\n            break\r\n        case FLOAT:\r\n            result = sn('span', FLOAT_CLASS_NAME, data)\r\n            break\r\n        case OBJECT:\r\n            childs = []\r\n    \r\n            aTarget = options.hyperlinks.target\r\n            hyperlinkKeys = options.hyperlinks.keys\r\n    \r\n            // Is Hyperlink Key\r\n            hyperlinksEnabled =\r\n                    options.hyperlinks.enable &&\r\n                    hyperlinkKeys &&\r\n                    hyperlinkKeys.length > 0\r\n    \r\n            for (key in data) {\r\n                isEmpty = false\r\n    \r\n                value = data[key]\r\n    \r\n                valNode = _format(value, options, key)\r\n                keyNode = sn('th', OBJ_KEY_CLASS_NAME, key)\r\n    \r\n                if (hyperlinksEnabled &&\r\n                        typeof (value) === 'string' &&\r\n                        indexOf.call(hyperlinkKeys, key) >= 0) {\r\n    \r\n                    valNode = scn('td', OBJ_VAL_CLASS_NAME, linkNode(valNode, value, aTarget))\r\n                }\r\n                else {\r\n                    valNode = scn('td', OBJ_VAL_CLASS_NAME, valNode)\r\n                }\r\n    \r\n                tr = document.createElement('tr')\r\n                tr.appendChild(keyNode)\r\n                tr.appendChild(valNode)\r\n    \r\n                childs.push(tr)\r\n            }\r\n    \r\n            if (isEmpty) {\r\n                result = sn('span', OBJ_EMPTY_CLASS_NAME, '(Empty Object)')\r\n            }\r\n            else {\r\n                result = scn('table', OBJECT_CLASS_NAME, scn('tbody', '', childs))\r\n            }\r\n            break\r\n        case FUNCTION:\r\n            result = sn('span', FUNCTION_CLASS_NAME, data)\r\n            break\r\n        case ARRAY:\r\n            if (data.length > 0) {\r\n                childs = []\r\n                let showArrayIndices = options.showArrayIndex\r\n    \r\n                aTarget = options.hyperlinks.target\r\n                hyperlinkKeys = options.hyperlinks.keys\r\n    \r\n                // Hyperlink of arrays?\r\n                hyperlinksEnabled = parentKey && options.hyperlinks.enable &&\r\n                        hyperlinkKeys &&\r\n                        hyperlinkKeys.length > 0 &&\r\n                        indexOf.call(hyperlinkKeys, parentKey) >= 0\r\n    \r\n                for (key = 0, len = data.length; key < len; key += 1) {\r\n    \r\n                    keyNode = sn('th', ARRAY_KEY_CLASS_NAME, key)\r\n                    value = data[key]\r\n    \r\n                    if (hyperlinksEnabled && typeof (value) === 'string') {\r\n                        valNode = _format(value, options, key)\r\n                        valNode = scn('td', ARRAY_VAL_CLASS_NAME, linkNode(valNode, value, aTarget))\r\n                    }\r\n                    else {\r\n                        valNode = scn('td', ARRAY_VAL_CLASS_NAME, _format(value, options, key))\r\n                    }\r\n    \r\n                    tr = document.createElement('tr')\r\n    \r\n                    if (showArrayIndices) {\r\n                        tr.appendChild(keyNode)\r\n                    }\r\n                    tr.appendChild(valNode)\r\n    \r\n                    childs.push(tr)\r\n                }\r\n    \r\n                result = scn('table', ARRAY_CLASS_NAME, scn('tbody', '', childs))\r\n            }\r\n            else {\r\n                result = sn('span', ARRAY_EMPTY_CLASS_NAME, '(Empty List)')\r\n            }\r\n            break\r\n        default:\r\n            result = sn('span', UNKNOWN_CLASS_NAME, data)\r\n            break\r\n        }\r\n    \r\n        return result\r\n    }\r\n    \r\n\r\n    function validateOptions(options) {\r\n        options = validateArrayIndexOption(options)\r\n        options = validateHyperlinkOptions(options)\r\n        options = validateBoolOptions(options)\r\n        // Add any more option validators here\r\n        return options\r\n    }\r\n    \r\n    \r\n    function validateArrayIndexOption(options) {\r\n        if (options.showArrayIndex === undefined) {\r\n            options.showArrayIndex = true\r\n        }\r\n        else {\r\n            // Force to boolean just in case\r\n            options.showArrayIndex = !!options.showArrayIndex\r\n        }\r\n    \r\n        return options\r\n    }\r\n\r\n    \r\n    function validateHyperlinkOptions(options) {\r\n        let hyperlinks = {\r\n            enable: false,\r\n            keys: null,\r\n            target: ''\r\n        }\r\n    \r\n        if (options.hyperlinks && options.hyperlinks.enable) {\r\n            hyperlinks.enable = true\r\n    \r\n            hyperlinks.keys = isArray(options.hyperlinks.keys) ? options.hyperlinks.keys : []\r\n    \r\n            if (options.hyperlinks.target) {\r\n                hyperlinks.target = '' + options.hyperlinks.target\r\n            }\r\n            else {\r\n                hyperlinks.target = '_blank'\r\n            }\r\n        }\r\n    \r\n        options.hyperlinks = hyperlinks\r\n    \r\n        return options\r\n    }\r\n\r\n    \r\n    function validateBoolOptions(options) {\r\n        if (!options.bool) {\r\n            options.bool = {\r\n                text: {\r\n                    true: 'true',\r\n                    false: 'false'\r\n                },\r\n                img: {\r\n                    true: '',\r\n                    false: ''\r\n                },\r\n                showImage: false,\r\n                showText: true\r\n            }\r\n        }\r\n        else {\r\n            let boolOptions = options.bool\r\n    \r\n            // Show text if no option\r\n            if (!boolOptions.showText && !boolOptions.showImage) {\r\n                boolOptions.showImage = false\r\n                boolOptions.showText = true\r\n            }\r\n    \r\n            if (boolOptions.showText) {\r\n                if (!boolOptions.text) {\r\n                    boolOptions.text = {\r\n                        true: 'true',\r\n                        false: 'false'\r\n                    }\r\n                }\r\n                else {\r\n                    let t = boolOptions.text.true\r\n                    let f = boolOptions.text.false\r\n    \r\n                    if (getType(t) !== STRING || t === '') {\r\n                        boolOptions.text.true = 'true'\r\n                    }\r\n    \r\n                    if (getType(f) !== STRING || f === '') {\r\n                        boolOptions.text.false = 'false'\r\n                    }\r\n                }\r\n            }\r\n    \r\n            if (boolOptions.showImage) {\r\n                if (!boolOptions.img.true && !boolOptions.img.false) {\r\n                    boolOptions.showImage = false\r\n                }\r\n            }\r\n        }\r\n    \r\n        return options\r\n    }\r\n    \r\n\r\n    function format(data, options) {\r\n        options = validateOptions(options || {})\r\n    \r\n        let result\r\n    \r\n        result = _format(data, options)\r\n        result.className = result.className + ' ' + prefixer('root')\r\n    \r\n        return result\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\nexport default viewJsonTable\r\n"],"names":["viewJsonTable","jsonObj","rootElem","option","prefixer","makePrefixer","p","ARRAY","BOOL","INT","FLOAT","STRING","OBJECT","FUNCTION","UNK","STRING_CLASS_NAME","STRING_EMPTY_CLASS_NAME","BOOL_TRUE_CLASS_NAME","BOOL_FALSE_CLASS_NAME","BOOL_IMAGE","INT_CLASS_NAME","FLOAT_CLASS_NAME","OBJECT_CLASS_NAME","OBJ_KEY_CLASS_NAME","OBJ_VAL_CLASS_NAME","OBJ_EMPTY_CLASS_NAME","FUNCTION_CLASS_NAME","ARRAY_KEY_CLASS_NAME","ARRAY_VAL_CLASS_NAME","ARRAY_CLASS_NAME","ARRAY_EMPTY_CLASS_NAME","HYPERLINK_CLASS_NAME","UNKNOWN_CLASS_NAME","indexOf","item","i","l","length","Init","innerHTML","classList","add","node","format","appendChild","prefix","name","isArray","obj","Object","prototype","toString","call","sn","tagName","className","data","result","document","createElement","createTextNode","scn","child","len","linkNode","href","target","a","setAttribute","getType","type","_format","options","parentKey","container","key","keyNode","valNode","childs","tr","value","isEmpty","hyperlinksEnabled","aTarget","hyperlinkKeys","boolOpt","bool","showImage","img","showText","text","hyperlinks","keys","enable","push","showArrayIndices","showArrayIndex","validateOptions","validateArrayIndexOption","validateHyperlinkOptions","validateBoolOptions","undefined","boolOptions","t","f"],"mappings":"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"}